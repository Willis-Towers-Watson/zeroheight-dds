jQuery(function(e){e(".wtw-audio-player button.vjs-play-control, button.vjs-mute-control").attr("tabindex","0"),e(".wtw-audio-player button.vjs-play-control, button.vjs-mute-control").attr("role","button");for(var t=document.querySelectorAll(".wtw-audio-player .video-js"),o=0;o<t.length;o++){var n=t[o].querySelector(".vjs-dock-text, .vjs-title-bar"),r=t[o].querySelector(".vjs-duration");e(n).insertAfter(r)}for(var i=document.querySelectorAll(".wtw-audio-player .video-js"),o=0;o<i.length;o++){var n=i[o].querySelector(".vjs-dock-text, .vjs-title-bar"),a=i[o].querySelector(".vjs-control-bar");e(n).insertBefore(a)}e(".vjs-dock-description, .vjs-title-bar-description").remove()});var clickedDownloadItem=void 0;function removeSpaces(e){return e=e.replace(/\s/g,"")}if("undefined"!=typeof videojs&&videojs&&videojs.registerPlugin("downloadAudio",function(){var o,n,r,i,a,d,s,l=this;l.el().closest(".wtw-audio-player")&&(r=[],d=document.createElement("div"),s=document.createElement("div"),l.on("loadstart",function(){r=[],o=removeSpaces(l.mediainfo.name),rendtionsAra=l.mediainfo.sources,n=rendtionsAra.length;for(var e=0;e<n;e++)"MP4"===rendtionsAra[e].container&&rendtionsAra[e].hasOwnProperty("src")&&r.push(rendtionsAra[e]);function t(){(clickedDownloadItem=d).classList.add("is-loading");var t=new XMLHttpRequest;t.open("GET",i,!0),t.responseType="blob",t.onload=function(e){download(t.response,o,"video/mp4")},t.send()}r.sort(function(e,t){return t.size-e.size}),i=r[0].src,d.setAttribute("role","button"),d.setAttribute("aria-label","download podcast"),d.setAttribute("tabindex","0"),d.style["margin-top"]="0!important",d.className="vjs-control downloadStyle",s.innerHTML='<span class="material-symbols-outlined" aria-hidden="true">download</span>',d.onclick=function(){t()},d.onkeydown=function(e){"Enter"!==e.key&&13!==e.keyCode||t()},d.appendChild(s),(a=l.controlBar.customControlSpacer.el()).setAttribute("style","justify-content: flex-end;"),a.appendChild(d)}))}),((e,t)=>{"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()})(this,function(){return function t(e,o,n){var r=window,i="application/octet-stream",a=n||i,n=!o&&!n&&e,d=document.createElement("a"),s=r.Blob,l=o||"download",s=s.call?s.bind(r):Blob;if("true"===String(this)&&(a=(e=[e,a])[0],e=e[1]),n&&n.length<2048){var c,l=n.split("/").pop().split("?")[0];if(d.href=n,-1!==d.href.indexOf(n))return(c=new XMLHttpRequest).open("GET",n,!0),c.responseType="blob",c.onload=function(e){t(e.target.response,l,i)},setTimeout(function(){c.send()},0),c}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(e)){if(!(2096103.424<e.length))return navigator.msSaveBlob?navigator.msSaveBlob(u(e),l):p(e,!0);a=(e=u(e)).type||i}if(o=e instanceof s?e:new s([e],{type:a})){if(navigator.msSaveBlob)return navigator.msSaveBlob(o,l);if(r.URL)p(r.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===function(e){return String(e)})try{return p("data:"+a+";base64,"+r.btoa(o),!1)}catch(e){return p("data:"+a+","+encodeURIComponent(o),!1)}(n=new FileReader).onload=function(e){p(this.result,!1)},n.readAsDataURL(o)}return clickedDownloadItem.classList.remove("is-loading"),!0}function u(e){for(var e=e.split(/[:;,]/),t=e[1],o=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),n=o.length,r=0,i=new Uint8Array(n);r<n;++r)i[r]=o.charCodeAt(r);return new s([i],{type:t})}function p(e,t){var o;return"download"in d?(d.href=e,d.setAttribute("download",l),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){r.URL.revokeObjectURL(d.href)},250)},66),!0):/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)?(e=e.replace(/^data:([\w\/\-\+]+)/,i),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0):(o=document.createElement("iframe"),document.body.appendChild(o),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),o.src=e,void setTimeout(function(){document.body.removeChild(o)},333))}console.error("Blob not defined!")}}),document.querySelector(".wtw-audio-player")&&"undefined"!=typeof videojs)for(var videoItems=document.querySelectorAll(".wtw-audio-player .video-js"),i=0;i<videoItems.length;i++){var videoID,player,videoItem=videoItems[i],isInsideWTWAudioPlayer=videoItem.closest(".wtw-audio-player");isInsideWTWAudioPlayer&&(videoID=videoItem.getAttribute("id").replace("_html5_api",""),player=videojs.getPlayer(videoID))&&"function"==typeof player.downloadAudio&&player.downloadAudio()}jQuery(document).ready(function(r){setTimeout(function(){document.querySelectorAll(".wtw-audio-player").forEach(function(t){var e,o,n=t.querySelector(".video-js .vjs-tech");n&&(n=n.getAttribute("poster"))&&(n=n,e=function(e){!e&&(r(t).find(".vjs-dock-text, .vjs-title-bar").addClass("imageFound"),r(t).find(".vjs-control-bar").addClass("imageFoundControlBar"),r(t).find(".vjs-progress-control").addClass("imageFound"),r(t).find(".video-js").addClass("minHeight"),e=t.querySelector(".vjs-poster"))&&(e.setAttribute("role","img"),e.setAttribute("aria-label","Podcast poster"))},(o=new Image).onload=function(){e(!1)},o.onerror=function(){e(!0)},o.src=n)})},1e3)}),jQuery(document).ready(function(t){setTimeout(function(){t(".wtw-audio-player .vjs-custom-control-spacer").each(function(){var e=t(this).find(".downloadStyle");1<e.length&&e.not(":first").hide()})},1e3)}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".wtw-audio-player .video-js");1<e.length&&e.forEach(function(o){videojs(o).on("play",function(){e.forEach(function(e){var t=videojs(e);e===o||t.paused()||t.pause()})})})});